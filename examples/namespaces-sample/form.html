<!DOCTYPE html><html>
<head><style type="text/css">
form fieldset {
	margin-bottom: 10px;
}
form label { 
	display: block;
}
form label > span {
	float: left;
	min-width: 200px;
}
form label > input[required] + span:after, form label > textarea[required] + span:after, form label > select[required] + span:after {
	content: "*:";
}
form button.add {
	margin-bottom: 10px;
}
</style></head>
<body><form action="javascript:void(0);" onsubmit="console.log(htmlToXML(this));
				"><section><fieldset data-xsd2html2xml-namespace="https://github.com/MichielCM/xsd2html2xml/default" data-xsd2html2xml-type="element" data-xsd2html2xml-name="root"><legend>root</legend><section><label data-xsd2html2xml-namespace="https://github.com/MichielCM/xsd2html2xml/default" data-xsd2html2xml-type="element" data-xsd2html2xml-name="defaultType"><input type="checkbox" onchange="if (this.checked) { this.setAttribute(&quot;checked&quot;,&quot;checked&quot;) } else { this.removeAttribute(&quot;checked&quot;) }" required="required" pattern=".{0,}" data-xsd2html2xml-primitive="xs:boolean"><span>defaultType</span></label></section><section><label data-xsd2html2xml-namespace="https://github.com/MichielCM/xsd2html2xml/default" data-xsd2html2xml-type="element" data-xsd2html2xml-name="includedType"><input type="number" onchange="if (this.value) { this.setAttribute(&quot;value&quot;, this.value.replace(/\s+/g, &quot; &quot;).trim()); } else { this.removeAttribute(&quot;value&quot;); };" required="required" min="0" max="1" pattern="[-]?{0,}" data-xsd2html2xml-primitive="xs:int"><span>includedType</span></label></section><section><label data-xsd2html2xml-namespace="https://github.com/MichielCM/xsd2html2xml/import" data-xsd2html2xml-type="element" data-xsd2html2xml-name="imp:importedType1"><select onchange="for (var i=0; i<this.children.length; i++) { this.children[i].removeAttribute(&quot;selected&quot;); } this.children[this.selectedIndex].setAttribute(&quot;selected&quot;,&quot;selected&quot;);" required="required"><option value="FALSE">FALSE</option><option value="TRUE">TRUE</option></select><span>importedType1</span></label></section><section><label data-xsd2html2xml-namespace="https://github.com/MichielCM/xsd2html2xml/import" data-xsd2html2xml-type="element" data-xsd2html2xml-name="imp:importedType2"><select onchange="for (var i=0; i<this.children.length; i++) { this.children[i].removeAttribute(&quot;selected&quot;); } this.children[this.selectedIndex].setAttribute(&quot;selected&quot;,&quot;selected&quot;);" required="required"><option value="0">0</option><option value="1">1</option></select><span>importedType2</span></label></section><section><label data-xsd2html2xml-namespace="https://github.com/MichielCM/xsd2html2xml/import" data-xsd2html2xml-type="element" data-xsd2html2xml-name="imp:importedElement1"><input type="checkbox" onchange="if (this.checked) { this.setAttribute(&quot;checked&quot;,&quot;checked&quot;) } else { this.removeAttribute(&quot;checked&quot;) }" required="required" pattern=".{0,}" data-xsd2html2xml-primitive="xs:boolean"><span>importedElement1</span></label></section><section><label data-xsd2html2xml-namespace="https://github.com/MichielCM/xsd2html2xml/import" data-xsd2html2xml-type="element" data-xsd2html2xml-name="imp:importedElement2"><input type="number" onchange="if (this.value) { this.setAttribute(&quot;value&quot;, this.value.replace(/\s+/g, &quot; &quot;).trim()); } else { this.removeAttribute(&quot;value&quot;); };" required="required" min="0" max="1" pattern="[-]?{0,}" data-xsd2html2xml-primitive="xs:int"><span>importedElement2</span></label></section><section><fieldset data-xsd2html2xml-namespace="https://github.com/MichielCM/xsd2html2xml/import" data-xsd2html2xml-type="element" data-xsd2html2xml-name="imp:importedComplexParentElement"><legend>importedComplexParentElement</legend><section><label data-xsd2html2xml-namespace="https://github.com/MichielCM/xsd2html2xml/doubleImport" data-xsd2html2xml-type="element" data-xsd2html2xml-name="dblimp:doubleImportedType"><input type="text" onchange="if (this.value) { this.setAttribute(&quot;value&quot;, this.value); } else { this.removeAttribute(&quot;value&quot;); };" required="required" pattern="(TRUE|FALSE)" data-xsd2html2xml-primitive="xs:string"><span>doubleImportedType</span></label></section></fieldset></section></fieldset></section><input type="submit" value="OK"><link rel="stylesheet" type="text/css" href="style.css"><script type="text/javascript"> 
							if (!Element.prototype.matches) Element.prototype.matches = Element.prototype.msMatchesSelector; if (!Element.prototype.closest) Element.prototype.closest = function (selector) {     var el = this;     while (el) {         if (el.matches(selector)) {             return el;         }         el = el.parentElement;     } };
							for (var i=0; i<document.querySelectorAll("[data-xsd2html2xml-filled]").length; i++) { if (document.querySelectorAll("[data-xsd2html2xml-filled]")[i].closest("[data-xsd2html2xml-choice]")) document.querySelectorAll("[data-xsd2html2xml-filled]")[i].closest("[data-xsd2html2xml-choice]").previousElementSibling.querySelector("input[type='radio']").click(); }
							
							for (var i=0; i<document.querySelectorAll("[type='range']").length; i++) {
								if (document.querySelectorAll("[type='range']")[i].getAttribute("value")) {
									document.querySelectorAll("[type='range']")[i].value = document.querySelectorAll("[type='range']")[i].getAttribute("value").replace(/\D/g, "");
								} else if (document.querySelectorAll("[type='range']")[i].getAttribute("min")) {
									document.querySelectorAll("[type='range']")[i].value = document.querySelectorAll("[type='range']")[i].getAttribute("min");
								} else if (document.querySelectorAll("[type='range']")[i].getAttribute("max")) {
									document.querySelectorAll("[type='range']")[i].value = document.querySelectorAll("[type='range']")[i].getAttribute("max");
								} else {
									document.querySelectorAll("[type='range']")[i].value = 0; document.querySelectorAll("[type='range']")[i].onchange();
								}
							}
							
							for (var i=0; i<document.querySelectorAll("[data-xsd2html2xml-primitive='xs:gday']").length; i++) {
								if (document.querySelectorAll("[data-xsd2html2xml-primitive='xs:gday']")[i].getAttribute("value")) {
									document.querySelectorAll("[data-xsd2html2xml-primitive='xs:gday']")[i].value = document.querySelectorAll("[data-xsd2html2xml-primitive='xs:gday']")[i].getAttribute("value").replace(/\D/g, "");
								}
							}
							
							for (var i=0; i<document.querySelectorAll("[data-xsd2html2xml-primitive='xs:gmonth']").length; i++) {
								if (document.querySelectorAll("[data-xsd2html2xml-primitive='xs:gmonth']")[i].getAttribute("value")) {
									document.querySelectorAll("[data-xsd2html2xml-primitive='xs:gmonth']")[i].value = document.querySelectorAll("[data-xsd2html2xml-primitive='xs:gmonth']")[i].getAttribute("value").replace(/\D/g, "");
								}
							}
							
							for (var i=0; i<document.querySelectorAll("[data-xsd2html2xml-primitive='xs:gmonthday']").length; i++) {
								if (document.querySelectorAll("[data-xsd2html2xml-primitive='xs:gmonthday']")[i].getAttribute("value")) {
									document.querySelectorAll("[data-xsd2html2xml-primitive='xs:gmonthday']")[i].value = new Date().getFullYear().toString().concat(document.querySelectorAll("[data-xsd2html2xml-primitive='xs:gmonthday']")[i].getAttribute("value").substring(1));
								}
							}
							
							var htmlToXML = function(root) {
							    var namespaces = [];
							    var prefixes = [];
							    
							    for (var i=0; i<document.querySelectorAll("[data-xsd2html2xml-namespace]:not([data-xsd2html2xml-namespace=''])").length; i++) {
							    	if (namespaces.indexOf(
							    		document.querySelectorAll("[data-xsd2html2xml-namespace]:not([data-xsd2html2xml-namespace=''])")[i].getAttribute("data-xsd2html2xml-namespace")
							    	) == -1) {
								    	namespaces.push(
								    		document.querySelectorAll("[data-xsd2html2xml-namespace]:not([data-xsd2html2xml-namespace=''])")[i].getAttribute("data-xsd2html2xml-namespace")
								    	);
								    	
								    	prefixes.push(
								    		document.querySelectorAll("[data-xsd2html2xml-namespace]:not([data-xsd2html2xml-namespace=''])")[i].getAttribute("data-xsd2html2xml-name").substring(
							    				0, document.querySelectorAll("[data-xsd2html2xml-namespace]:not([data-xsd2html2xml-namespace=''])")[i].getAttribute("data-xsd2html2xml-name").indexOf(":")
							    			)
							    		);
							    	}
							    }
							    
							    var namespaceString = "";
							    
							    for (var i=0; i<namespaces.length; i++) {
							    	namespaceString = namespaceString.concat(
							    		"xmlns".concat(
							    			(prefixes[i] == "" ? "=" : ":".concat(prefixes[i].concat("=")))
							    		).concat(
							    			"\"".concat(namespaces[i]).concat("\" ")
							    		)
							    	)
							    }
							    
							    return "<?xml version=\"1.0\"?>".concat(getXML(root, false, namespaceString.trim()));
							};
							var getXML = function(parent, attributesOnly, namespaceString) {
							    var xml = "";
							    for (var i = 0; i < parent.children.length; i++) {
							        if (!parent.children[i].getAttribute("style")) {
							            switch (parent.children[i].getAttribute("data-xsd2html2xml-type")) {
							                case "element":
							                    if (!attributesOnly) xml = xml.concat("<").concat(parent.children[i].getAttribute("data-xsd2html2xml-name")).concat(getXML(parent.children[i], true)).concat(">").concat(function() {
							                        if (parent.children[i].nodeName.toLowerCase() === "label") {
							                            return getContent(parent.children[i]);
							                        } else return getXML(parent.children[i])
							                    }()).concat("</").concat(parent.children[i].getAttribute("data-xsd2html2xml-name")).concat(">");
							                    break;
							                case "attribute":
							                    if (attributesOnly)
													if (getContent(parent.children[i]))
														xml = xml.concat(" ").concat(parent.children[i].getAttribute("data-xsd2html2xml-name")).concat("=\"").concat(getContent(parent.children[i])).concat("\"");
							                    break;
							                case "cdata":
							                    if (!attributesOnly) xml = xml.concat(getContent(parent.children[i]));
							                    break;
							                default:
							                    if (!attributesOnly)
							                        if (!parent.children[i].getAttribute("data-xsd2html2xml-choice") || (parent.children[i].getAttribute("data-xsd2html2xml-choice") && parent.children[i].previousElementSibling.getElementsByTagName("input")[0].checked)) xml = xml.concat(getXML(parent.children[i]));
							                    break;
							            }
							        }
							    }
							    
							    if (namespaceString) {
							    	xml = xml.substring(0, xml.indexOf(">")).concat(" ").concat(namespaceString).concat(xml.substring(xml.indexOf(">")));
							    }
							    
							    return xml;
							};
							var getContent = function(node) {
							    if (node.getElementsByTagName("input").length > 0) {
							        switch (node.getElementsByTagName("input")[0].getAttribute("type").toLowerCase()) {
							            case "checkbox":
							                return node.getElementsByTagName("input")[0].checked;
							            case "file":
							            case "range":
							            case "date":
							            case "time":
							            case "datetime-local":
							            	return node.getElementsByTagName("input")[0].getAttribute("value");
							            default:
							            	switch (node.getElementsByTagName("input")[0].getAttribute("data-xsd2html2xml-primitive").toLowerCase()) {
									            case "xs:gday":
									            case "xs:gmonth":
									            case "xs:gmonthday":
									            case "xs:gyear":
									            case "xs:gyearmonth":
									            	return node.getElementsByTagName("input")[0].getAttribute("value");
									            default:
									            	return node.getElementsByTagName("input")[0].value;
							            	}
							        }
							    } else if (node.getElementsByTagName("select").length > 0) {
							        return node.getElementsByTagName("select")[0].value;
							    } else if (node.getElementsByTagName("textarea").length > 0) {
							    	return node.getElementsByTagName("textarea")[0].value;
							    }
							}
						</script></form></body></html>
 